# 智能文档处理助手（MCP兼容版）

基于Gradio和魔搭平台模型的文档处理工具，**已适配MCP协议**，支持多种格式文档的解析、摘要生成、关键信息提取、问答交互、翻译和格式转换。


## 核心功能

- 文档解析：支持PDF/Word/TXT格式文件内容提取
- 智能处理：生成摘要、提取关键信息、基于文档问答
- 多语言支持：文档翻译（中/英/日/韩/法/德）
- 格式转换：文本转Markdown/表格/列表等
- **MCP协议兼容**：可作为工具被其他Agent调用


## MCP协议适配说明

1. 所有工具函数均遵循MCP规范：
   - 包含详细的docstring（说明功能、参数、返回值）
   - 输入输出格式标准化（均为字符串，便于解析）
   - 错误处理完善（返回可读的错误信息）

2. 启动方式：通过`mcp=True`参数启动MCP服务，支持其他Agent调用工具函数


## 部署与使用

### 魔搭创空间部署
1. 克隆项目并进入目录
2. 在魔搭平台获取API密钥（[获取地址](https://modelscope.cn/my/mykeys)）
3. 在代码中替换`ZHIPU_API_KEY`为你的实际密钥
4. 配置启动命令：`python app.py`
5. 服务将自动以MCP模式启动（端口7860）


### 智谱API配置
1. 前往[智谱开放平台](https://open.bigmodel.cn/)注册账号并获取API密钥
2. 在代码中替换`ZHIPU_API_KEY`为你的实际密钥
3. 免费模型推荐使用`glm-4-flash-250414`（需确认平台免费额度政策）


### 本地测试

1. 安装依赖：`pip install -r requirements.txt`
2. 配置API密钥
3. 启动服务：`python app.py`
4. 访问`http://localhost:7860`使用界面交互，或通过MCP协议调用工具


## 注意事项

- 文档大小建议≤10MB，过长文本会自动截断
- API调用受魔搭或者智谱平台配额限制，建议合理使用
- MCP工具调用示例（JSON-RPC格式）：
  ```json
  {
    "jsonrpc": "2.0",
    "id": "1",
    "method": "generate_summary",
    "params": {"text": "待摘要的文档文本..."}
  }
